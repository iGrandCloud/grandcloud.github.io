<!DOCTYPE html>
<html >
<head>
  <meta charset="utf-8">
  
  <title>猴子也能看懂的UEFI下Win8+Ubuntu双系统安装(Lenovo xiaoxin V4000) | Hongyun‘s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前言上次在公司搭建好了博客，想着回家在win8上花几分钟搭建环境，当晚发第一篇，结果没想到习惯了linux后在win8上进行工作感觉寸步难行。所以干脆在家的电脑上也给装上了Ubuntu，今天记录下安装双系统的过程以及一些自己的总结。">
<meta property="og:type" content="article">
<meta property="og:title" content="猴子也能看懂的UEFI下Win8+Ubuntu双系统安装(Lenovo xiaoxin V4000)">
<meta property="og:url" content="http://igrandcloud.github.io/2015/08/04/install-ubuntu-in-win8/index.html">
<meta property="og:site_name" content="Hongyun‘s Blog">
<meta property="og:description" content="前言上次在公司搭建好了博客，想着回家在win8上花几分钟搭建环境，当晚发第一篇，结果没想到习惯了linux后在win8上进行工作感觉寸步难行。所以干脆在家的电脑上也给装上了Ubuntu，今天记录下安装双系统的过程以及一些自己的总结。">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02installError.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02DiskDeniusPartition.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02DiskGeniusPartitionTable.png">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02BootDir.png">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02MicroBootDir.png">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02UbuntuBootDir.png">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02Universal%20USB%20Intaller.png">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02shrink%20volume.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02quickstart1.png">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02quicksetup2.png">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0008.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0009.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0010.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0013.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0014.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0015.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0016.jpg">
<meta property="og:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02efibootmgr.png">
<meta property="og:updated_time" content="2018-08-22T03:26:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="猴子也能看懂的UEFI下Win8+Ubuntu双系统安装(Lenovo xiaoxin V4000)">
<meta name="twitter:description" content="前言上次在公司搭建好了博客，想着回家在win8上花几分钟搭建环境，当晚发第一篇，结果没想到习惯了linux后在win8上进行工作感觉寸步难行。所以干脆在家的电脑上也给装上了Ubuntu，今天记录下安装双系统的过程以及一些自己的总结。">
<meta name="twitter:image" content="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02installError.jpg">
  
    <link rel="alternative" href="/atom.xml" title="Hongyun‘s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  
  
      <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
      <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">
  
  <link rel="stylesheet" href="/css/style.css">
  
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <script src="//cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false,
      }
  </script>

  
      <script>
          yiliaConfig.rootUrl = "/";
      </script>
  

  

  
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/assets/blogImg/choppe.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">GrandCloud</a></h1>
        </hgroup>

        
        <p class="header-subtitle">Be the maker of life</p>
        
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="新浪微博"><a class="新浪微博" target="_blank" href="http://weibo.com/igrandcloud" title="新浪微博"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/iGrandCloud" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Blog/" style="font-size: 10px;">Blog</a> <a href="/tags/Chrome/" style="font-size: 11.25px;">Chrome</a> <a href="/tags/EndNote/" style="font-size: 10px;">EndNote</a> <a href="/tags/Excel/" style="font-size: 11.25px;">Excel</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Google/" style="font-size: 10px;">Google</a> <a href="/tags/Hexo/" style="font-size: 16.25px;">Hexo</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/Markdown/" style="font-size: 18.75px;">Markdown</a> <a href="/tags/Sublime/" style="font-size: 12.5px;">Sublime</a> <a href="/tags/Ubuntu/" style="font-size: 12.5px;">Ubuntu</a> <a href="/tags/Windows/" style="font-size: 11.25px;">Windows</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/mac/" style="font-size: 11.25px;">mac</a> <a href="/tags/互联网/" style="font-size: 10px;">互联网</a> <a href="/tags/军事/" style="font-size: 11.25px;">军事</a> <a href="/tags/工具/" style="font-size: 20px;">工具</a> <a href="/tags/快捷方式/" style="font-size: 10px;">快捷方式</a> <a href="/tags/故事/" style="font-size: 15px;">故事</a> <a href="/tags/效率/" style="font-size: 15px;">效率</a> <a href="/tags/生活/" style="font-size: 16.25px;">生活</a> <a href="/tags/知识/" style="font-size: 10px;">知识</a> <a href="/tags/简历/" style="font-size: 10px;">简历</a> <a href="/tags/编程/" style="font-size: 17.5px;">编程</a> <a href="/tags/编程规范/" style="font-size: 11.25px;">编程规范</a> <a href="/tags/资源/" style="font-size: 13.75px;">资源</a> <a href="/tags/软件/" style="font-size: 10px;">软件</a> <a href="/tags/面试/" style="font-size: 11.25px;">面试</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">爱着小水的卧龙先生</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">GrandCloud</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/assets/blogImg/choppe.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">GrandCloud</a></h1>
            </hgroup>
            
            <p class="header-subtitle">Be the maker of life</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="新浪微博"><a class="新浪微博" target="_blank" href="http://weibo.com/igrandcloud" title="新浪微博"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/iGrandCloud" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-install-ubuntu-in-win8" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/04/install-ubuntu-in-win8/" class="article-date">
      <time datetime="2015-08-04T06:30:26.000Z" itemprop="datePublished">Aug 4</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      猴子也能看懂的UEFI下Win8+Ubuntu双系统安装(Lenovo xiaoxin V4000)
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/收集帖/">收集帖</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <blockquote>
<p> <strong>前言</strong><br>上次在公司搭建好了博客，想着回家在win8上花几分钟搭建环境，当晚发第一篇，结果没想到习惯了linux后在win8上进行工作感觉寸步难行。所以干脆在家的电脑上也给装上了Ubuntu，今天记录下安装双系统的过程以及一些自己的总结。<br><a id="more"></a></p>
</blockquote>
<p>##<strong>让人烦躁却不得不知道的术语</strong>##</p>
<p><strong>首先要明白,当我们按下电脑的开机键后,电脑在启动系统之前最先执行的一段程序是放在主板上的只读程序段名字叫Firmware,至于具体电脑的寄存器是怎么复位的,寄存器是怎么寻址到Firmware的,请看知乎大神的<a href="http://www.zhihu.com/question/22364502" target="_blank" rel="external">回答</a>. 我们只需要知道有这段程序,并且在启动系统前会走这段路程就足够了. 目前有两种类型的Firmware,一种是我们以前经常听到的 BIOS(发音:/ˈbaɪ.ɒs/),,那还有一种就是近几年兴起的用来代替BIOS的UEFI发音(pronounced as an initialism U-E-F-I or like “unify” without the n[a])),当我们按下电脑开机键后,电脑厂商的LOGO出来的时候狂按(F2|F12|F9|del 具体各个厂商不一样,我的联想小新就是F2)键就能进入到Firmware控制界面(Firmware setup utility,),接下来我们就看下这两种Firmware</strong></p>
<p>###BIOS与UEFI###</p>
<p>BIOS的启动方式是通过读取执行硬盘第一个扇区的代码,之后通过这段代码定位并且执行别的代码.由于BIOS的空间限制并且BIOS只能执行16bit的代码,BIOS在使用中有很多限制.相反的,UEFI 通过加载硬盘ESP分区上的efi文件来启动系统,EFI 启动加载器程序可以利用EFI 启动服务来做很多事情,例如从硬盘读取文件.</p>
<p>###<span id="secureboot">Secure Boot</span>###<br>Secure Boot只是UEFI的一个部分。两者的关系是局部与整体的关系。<br>Secure Boot的目的，是防止恶意软件侵入。它的做法就是采用密钥。UEFI规定，主板出厂的时候，可以内置一些可靠的公钥。然后，任何想要在这块主板上加载的操作系统或者硬件驱动程序，都必须通过这些公钥的认证。也就是说，这些软件必须用对应的私钥签署过，否则主板拒绝加载。由于恶意软件不可能通过认证，因此就没有办法感染Boot。<br>这个设想是好的。但是，UEFI没规定哪些公钥是可靠的，也没规定谁负责颁发这些公钥，都留给硬件厂商自己决定。<br>现在，微软就是要求，主板厂商内置Windows 8的公钥。</p>
<!--more-->
<p>###MBR与GPT###<br>我们在装系统的时候有时可能会遇到这种问题:<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02installError.jpg" alt="installError"><br><strong>Windows无法安装到这个磁盘。选中的磁盘具有MBR分区表。在EFI系统上，Windows只能安装到GPT磁盘</strong><br>这句话的意思是说,你的磁盘以前是按着MBR方式分区的,现在你在UEFI启动方式上,想安装系统在这个磁盘上就必须将磁盘重新按照GPT方式分区.也就是说不同的启动方式,要对应不同的分区方式,系统才能正常安装.那什么是MBR什么是GPT?</p>
<p>MBR和GPT是两种不同的存储磁盘分区信息方式,这些信息包括每个分区的起至位置,这样你的操作系统就知道哪个扇区属于哪个分区,以及哪个分区是可以启动的.MBR 使用的是传统的BIOS 分区表,GPT使用的是UEFI分区表.MBR的限制在于磁盘只能有四个主分区.并且主打只支持2T的容量.而GPT完全没有这些限制.</p>
<p>那怎么知道现在的磁盘是什么方式分区的以及怎么选择分区方式呢?<br>这个很简单,我们用DiskGenus查看磁盘分区的时候,在菜单栏有选项,如果当前是按MBR分区,那么会出现<code>将磁盘分区转换为GPT分区</code>的选项,如果是按GPT分区的,那么<code>将磁盘分区转换为MBR分区</code>是可选的.同时,我们在对磁盘进行分区的时候可以选择分区方式,例如我要将磁盘按GPT方式分区:<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02DiskDeniusPartition.jpg" alt="GPT分区"><br>可以看到DG工具会提示我们创建ESP分区和MSR分区.这两个分区是UEFI启动方式中非常重要的分区.</p>
<blockquote>
<p>MSR分区（Microsoft Reserved Partition，缩写MSR）即Microsoft 保留 (MSR) 分区。是每个 在GUID 分区表 (GPT) 上的 Windows操作系统（windows7以上）都要求的分区。<br>系统组件可以将 MSR 分区的部分分配到新的分区以供它们使用。例如，将基本 GPT 磁盘转换为动态磁盘后，系统分配的 MSR 分区将被用作“逻辑磁盘管理器”(LDM) 元数据分区。</p>
<p>ESP是一个独立于操作系统之外的分区，操作系统被引导之后，就不再依赖它。这使得 ESP 非常适合用来存储那些系统级的维护性的工具和数据，比如：引导管理程序、驱动程序、系统维护工具、系统备份等，甚至可以在 ESP 里安装一个特殊的操作系统（SlaTaz Linux? PuppyLinux? Win PE?）。</p>
</blockquote>
<p>在我的联想电脑上利用DG查看磁盘分区:<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02DiskGeniusPartitionTable.png" alt="磁盘分区"><br>我的电脑是用的UEFI启动方式,所以肯定会有ESP 和MSR 分区.在ESP分区中有一个EFI文件,里面有三个文件夹:</p>
<blockquote>
<p>/EFI/boot<br>  文件夹中有一个boot64.efi 文件,上面讲过UEFI启动方式就是通过去加载这些.efi文件来启动的.那这个efi是什么时候被加载,加载什么的?<br>  <strong>boot64.efi是UEFI的默认引导,他的引导是在你的系统引导之前的,所以不管你的电脑有没有装系统,装的什么系统,这个文件都会被UEFI先引导</strong></p>
</blockquote>
<p>  <strong>具体每个文件的含义,在无忧启动论坛有<a href="http://bbs.wuyou.net/forum.php?mod=viewthread&amp;action=printable&amp;tid=303679" target="_blank" rel="external">讨论</a></strong></p>
<p><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02BootDir.png" alt="Boot dir"></p>
<blockquote>
<p>/EFI/Microsoft/Boot<br>在Microsoft的Boot目录下有很多内容,包含了windows系统引导启动的所有信息，非常重要，文件夹是字体和语言部分，BCD包含了windows引导开始以后的信息（例如安装Hyper-v虚拟机和恢复还原之类的就会更新里面的信息）。bootmgfw.efi 是 Windows默认引导文件</p>
</blockquote>
<p><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02MicroBootDir.png" alt="Microsoft dir"></p>
<blockquote>
<p><span id="efi">/EFI/ubuntu</span><br>这个文件夹在没完成双系统安装前是不会出现的,我这边是安装好双系统后才截的图.这个文件夹下也有些.efi文件,那其中有一个肯定是用来引导Ubuntu的,这边就先不说是那个.等安装完我们可以用命令查看的~</p>
</blockquote>
<p><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02UbuntuBootDir.png" alt="ubuntu dir"></p>
<hr>
<p><strong>说了这么多,其实没有多大卵用,我们只需要知道以下几点就可以了</strong></p>
<ul>
<li><p>现在的电脑主板上用于引导启动的有两种固件了<code>BIOS</code> 和<code>UEFI</code></p>
<p><strong>BIOS启动流程</strong><br>  BIOS开机自检——》读取硬盘MBR分区的主引导记录—》控制权交给引导程序-》引导程序根据安装时候的配置读取各分区记录—》根据各分区已经有的系统情况，列出启动目录—》根据用户选择，启动选择的引导文件启动用户选择的系统。<br><strong>UEFI启动流程</strong><br>  主板上的UEFI模块—》硬盘内的第一个fat分区，如果分区内有EFI这个文件目录，就根据EFI文件目录的引导文件加载各类型的驱动和引导文件，启动系统同时完成自检。（如果第一个fat分区没有EFI目录则选择第二个，如果第一块硬盘没有，择选择第二块，或者U盘以此类推）</p>
</li>
<li><p>两种对磁盘的分区方式<code>MBR</code>和<code>GPT</code>,和启动方式搭配为MBR+BIOS, GPT+UEFI.</p>
</li>
</ul>
<p>准备的差不多了,我们就可以正式开始装双系统了</p>
<p>##<strong>磨刀不误砍柴功,正式开始装系统</strong>##</p>
<p>开始装系统之前,还是有些工具需要准备:</p>
<ol>
<li>Ubuntu iso镜像文件,这个就是要安装的ubuntu系统了,<a href="http://www.ubuntu.com/download" target="_blank" rel="external">下载地址</a></li>
<li>一个8g 大小U盘</li>
<li>U盘启动盘制作工具<a href="http://www.pendrivelinux.com/universal-usb-installer-easy-as-1-2-3/" target="_blank" rel="external">Universal USB installer</a></li>
</ol>
<p>准备好了之后,我们就可以安装了:</p>
<ol>
<li>使用Universal USB installer 制作Ubuntu U盘启动盘<br>将U盘插入电脑,打开Universal USB installer<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02Universal%20USB%20Intaller.png" alt="USB INSTALLER"></li>
<li><span id="partition">创建Ubuntu分区</span><br>我们要给ubuntu单独分出一个分区<br>右键我的电脑-&gt;管理-&gt;磁盘管理-&gt;右键点击一个比较他的分区-&gt;压缩卷<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02shrink%20volume.jpg" alt="shrink volume"><br>如上图,给ubuntu分了120个G,记住这个大小,在安装ubuntu的时候会用到</li>
<li>关闭电脑的快速启动功能<br>控制面板-&gt;硬件和声音-&gt;电源选项-&gt;选择电源按钮和功能<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02quickstart1.png" alt="快速启动"><br>然后点击更改当前不可用的设置-&gt;把快速启动的对勾去了<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02quicksetup2.png" alt="关闭快速启动"></li>
<li>关闭<span id="secure">Secure Boot</span><br><a href="#secureboot">前面</a>介绍了,secure boot 能够防止恶意程序启动,保护电脑安全,但同时也不能让没有签名的系统启动,所以我们要安装多系统,首先得关闭secure boot,<br>重启电脑-&gt;按快捷键F2(不同机器不同按键,可以试试F2,F12,F8,DEL)进入EUFI设置界面-&gt;键盘左右箭头调到Security-&gt;上下箭头调到Secure boot-&gt;回车弹出选框选Disable<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0008.jpg" alt="secure boot"></li>
<li><span id="5">选择U盘优先启动</span><br>关闭SecureBoot后,要安装ubuntu得让系统从U盘启动<br>左右箭头调到BOOT一栏-&gt;上下箭头调到EFI USB Device-&gt;F6 将这个启动项上调到第一位置.<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0009.jpg" alt="u盘启动"></li>
<li>保存修改,重启<br>在exit一栏,选择第一项save discard and exit.保存修改并重启系统.</li>
<li>进入tryubuntu界面<br>重启后进入ubuntu 安装引导界面,选择地一个try ubuntu,我们把它称为ubuntu pe.<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0010.jpg" alt="ubuntu 安装"></li>
<li>ubuntu分区<br>进入ubuntu pe界面后,点击桌面上的install ubuntu进行安装,一路next在select installation type的时候注意选择第三项Something Else<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0013.jpg" alt="select"><br>然后,会看到磁盘列表里面有个free space大小和你在<a href="#partition">第2步</a>中分配的大小是一样的.选中他,点击左下的<code>+</code>号,创建分区.<br>一般来说我们只需要创建3个分区<br>第一个分区root,按照我这个选择就行了,大小一般给20G,也就是差不多20000M,类型:primary,新分区的位置:begining of the space ,use as:选择EXT4. 挂载点选择:/(也就是root啦)<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0014.jpg" alt="root"><br>第二个分区swap,大小不小于你的内存大小,和root分区不同的是use as 选择为swap area.<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0015.jpg" alt="swap"><br>第三个分区home,剩下的空间都作为home吧.和Root分区一样设置,只是挂载在home上<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02IMAG0016.jpg" alt="home"><br>之后,就一路next,等着装完吧</li>
<li>安装完成后拔下U盘,F2进入到UEFI设置界面,在boot一栏,可以看见多了一个ubuntu 启动选项,将他上调到第一</li>
<li>重启就进入到我们熟悉了GRUB引导界面了.默认第一项是进入ubuntu,然后还有windows boot manager 也就是win8系统.我们可以上下选择进入哪个系统.</li>
</ol>
<p><strong>至此ubuntu的安装就完成啦</strong></p>
<p>##事后诸葛,看看双系统的和谐共处##</p>
<p>###UEFI启动选项###<br><a href="#5">在第5步</a>中介绍把U盘设为第一启动项的时候,就看到其实这边我是已经安装好了ubuntu,现在系统的启动项包括EFI USB,ubuntu,Windows还有UEFI PXE Network 这几个启动项.在介绍ESP分区的时候看到了有几个<a href="#efi">efi</a>文件,这些文件和启动项是什么关系呢?<br>其实我们在ubuntu下有工具可以查看:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo efibootmgr -v</span><br></pre></td></tr></table></figure>
<p>这个命令可以查看当前系统所有的可用启动项<br><img src="http://7xkr9a.com1.z0.glb.clouddn.com/Blog02efibootmgr.png" alt="efibootmgr"><br>可以看到现在我的系统包含编号为0001,0003,2003,0004,2001,2002的启动项,而且我当前使用的是0001也就是ubuntu启动啦.往下看,可以发现没法启动项的启动文件都列出来了<br>ubuntu -&gt; /EFI/ubuntu/shimx64.efi<br>win boot manager -&gt; /EFI/Microsoft/Boot/bootmgfw.efi<br>Lenovo recovery system -&gt;/EFI/Microsoft/Boot/LrsBootMgr.efi</p>
<blockquote>
<p>注:<br>对Ubuntu来说在<a href="#efi">这里</a>我们看到,boot文件夹下有grub64.efi 和Shimx64.efi ,而且我们进入系统也是直接进入的ubuntu的grub程序界面.那为什么不是启动grub64.efi,shimx64.efi是什么东西?<br>其实他家看<a href="#secure">这里</a>发现,我安装完双系统后是将Secure Boot打开的.前面也说了打开Secure boot 除了win8别的系统应该没法启动的,这就是shimx64.efi的作用了.<br>Typically, EFI/ubuntu/grubx64.efi on the EFI System Partition (ESP) is the GRUB binary, and EFI/ubuntu/shimx64.efi is the binary for shim. The latter is a relatively simple program that provides a way to boot on a computer with Secure Boot active. On such a computer, an unsigned version of GRUB won’t launch, and signing GRUB with Microsoft’s keys is impossible, so shim bridges the gap and adds its own security tools that parallel those of Secure Boot.<br>原来shimx64.fei是可以在sercure boot打开的情况下启动grub.</p>
</blockquote>
<p>###<strong>ubuntu下挂载Windows的分区盘</strong>###<br>我安装完成后第一次进入Ubuntu,可以看到win下的磁盘分区,但是没法挂载,但当我进入一次Win系统后,再次进入ubuntu发现这些盘居然可以挂载了,那这样实现ubuntu和win的磁盘共享也不成问题了.</p>

      
    </div>
    
  </div>
  
    


    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2015/08/04/shortcut-in-Ubuntu/">
                    Ubuntu下为软件创建快捷方式
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2015/07/31/screeshot-in-ubuntu/">
                    ubuntu小巧好用的类似QQ截图的软件DeepinScrot
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
</div>
<style>
    .left-col .switch-btn {
        display: none;
    }
    .left-col .switch-area {
        display: none;
    }
</style>

<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">
<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }

    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
            $(".switch-btn, .switch-area").fadeOut(300);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
            $(".switch-btn, .switch-area").fadeIn(500);
        }
    })

    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
        $(".switch-btn, .switch-area").show();
    }
</script>





    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <li id="bds_twi"><a href="#" class="bds_twi" data-cmd="twi" title="分享到推特"></a></li>
            <li id="bds_tsina"><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a></li>
            <li id="bds_sqq"><a href="#" class="bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a></li>
            <li id="bds_copy"><a href="#" class="bds_copy" data-cmd="copy" title="复制网址"></a></li>
            <li id="bds_mail"><a href="#" class="bds_mail" data-cmd="mail" title="通过邮件分享"></a></li>
            <li id="bds_weixin"><a href="#" class="bds_weixin" data-cmd="weixin" title="生成文章二维码"></a></li>
            <li id="bds_more"><a href="#" class="bds_more" data-cmd="more"></i></a></li>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"猴子也能看懂的UEFI下Win8+Ubuntu双系统安装(Lenovo xiaoxin V4000)　| Hongyun‘s Blog　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2015/08/04/shortcut-in-Ubuntu/" title="上一篇: Ubuntu下为软件创建快捷方式">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2015/07/31/screeshot-in-ubuntu/" title="下一篇: ubuntu小巧好用的类似QQ截图的软件DeepinScrot">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/12/sublime-config/">Sublime Text 3 使用配置与插件安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/12/windows-mac-software/">Windows 和 Mac 软件推荐</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/07/about-immersion/">谈谈人为何会沉迷游戏？</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/12/two-magics/">【故事】飞行家的两个魔术？</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/12/stories-S4/">【故事】：花匠与候鸟</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/clean-code/">clean code笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/2015-moives/">2015年上半年好电影</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/the-world-of-github/">github 的世界</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/stories-S5/">【故事】：兔子，胡萝卜与OAuth的故事</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/suggestions-of-programming/">学编程的一些核心建议</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/ten-years-programming/">Teach Yourself Programming in Ten Years</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/stories-S3/">【故事】：扎龙人</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/ideas-of-programming/">编程的几个思想</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/guide-to-mac/">mac使用技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/what-is-railgun/">电磁轨道炮是什么？</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/internet-words/">电商、营销、移动互联网等专业词汇大全</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/07/China-south-sea/">趣说南海各岛</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/04/resume/">一份阿里员工的简历</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/04/recomd-dev-utils/">日常优秀工具秘籍</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/04/microsoft-windows-skills/">【高效工作】Windows系统下的奇技淫巧大汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/04/markdown-use-tips/">使用Markdown写博过程中存在的问题及解决方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/04/markdow_intrduce/">markdown语法简介</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/04/markdown-table-style/">Markdown 表格样式调整与自适应优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/19/chrome-plug/">前端Chrome插件</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/15/Hexo-Theme/">Hexo 主题：SPFK</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/27/Hexo-plug/">Hexo插件安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/25/about-Hexo/">Hexo的使用介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/24/markdown/">Markdown使用指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/21/hexo-commands/">Hexo 最常用的几个命令</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/21/tools-website-for-developer/">开发中常用的一些知识检索链接（Markdown、SVN、Git等）</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/21/common-hexo-commands/">Hexo 最常用的几个命令</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/21/note-for-clean-code/">clean code这本书是程序员必读经典之一</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/21/subline-best/">Sublime Text历练</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/21/sublime-package/">Sublime插件</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/23/git-command/">Git 基础命令与相关术语</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/10/31/excel-markdown-table/">用 Excel 生成和管理 Markdown 表格</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/30/EndNote-Markdown/">EndNote 与 Markdown 结合 — 为网文快速添加 Reference</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/14/blog-use-Hexo-and-Github/">使用Hexo在Github上搭建你的博客【教程汇总】</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/04/shortcut-in-Ubuntu/">Ubuntu下为软件创建快捷方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/04/install-ubuntu-in-win8/">猴子也能看懂的UEFI下Win8+Ubuntu双系统安装(Lenovo xiaoxin V4000)</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/31/screeshot-in-ubuntu/">ubuntu小巧好用的类似QQ截图的软件DeepinScrot</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/30/gain-from-ali-interview/">阿里实习生前端面试心得</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/30/about-10000-hours-law/">有关10000小时定律</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/30/about-interview/">关于阿里面试</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/30/learning-programing/">在线编程资源</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/30/anki-excel-shortcuts/">Excel 快捷键大全</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/30/how-to-use-Google/">如何用好 Google 等搜索引擎？</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/30/danamic-or-static-language/">静态语言 or 动态语言</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/04/30/stroies-S1/">【故事】：裁缝的工具，天气精灵，匠人与万能胶水</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2018 GrandCloud
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题">Yelee</a> by MOxFIVE
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.1.22/require.min.js"></script>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>